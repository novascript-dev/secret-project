{% extends 'doctors/base.html' %}

{% block title %}
    Detalhes do Médico
{% endblock %}

{% block content %}
    <div class="w-screen-xl max-w-screen-xl mx-auto mt-[130px] font-din text-kaya-dark-gray">
        <div class="bg-[#CDEA98] h-48 w-full"></div>
        <div class="flex flex-col xl:flex-row justify-between">
            <img
            src="{{ doctor.image }}" 
            class="max-w-52 xl:max-w-fit xl:max-h-52 h-52 w-52 rounded-full border-2 border-white shadow -mt-24 ml-12"
            alt="{{ doctor.name }}"/>

            <div class="ml-7 mt-4 mr-auto">
                <h3 class="font-din mb-3 text-4xl font-bold">{{ doctor.name }}</h3>
                <div class="mb-3 text-gray-500">
                    <h5 class="text-2xl font-bold">{{ doctor.specialty }}</h5>
                    <p class="-mt-2 mb-2">CRM {{ doctor.crm }}</p>
                    <span class="flex flex-row items-center px-3 mb-8 text-sm font-bold bg-gray-200 rounded-lg w-max text-kaya-dark-gray">
                        <svg class="svg-inline--fa fa-location-dot mr-2 text-gray-500 h-[15px]" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="location-dot" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg=""><path fill="currentColor" d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"></path></svg>
                        <span class="py-[2px]">{{ doctor.city }}</span>
                    </span>
                    <div class="flex gap-4 text-gray-500 text-3xl">
                        <span>
                            <svg class="svg-inline--fa fa-instagram fa-2x h-10" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="instagram" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg>
                        </span>
                        <span>
                            <svg class="svg-inline--fa fa-facebook fa-2x h-10" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"></path></svg>
                        </span>
                    </div>
                </div>
            </div>

            <div class="mt-5 xl:mr-10 text-[#6B7280] flex flex-row gap-6 px-8 pt-0 pb-10 items-start justify-start xl:justify-center ">
                <div class="text-yellow-400">
                    {% for _ in "x"|rjust:doctor.rating %}
                    <svg class="inline svg-inline--fa fa-star h-4" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"></path></svg><!-- <i class="fas fa-star"></i> Font Awesome fontawesome.com -->
                    {% endfor %}
                </div>
                <div class="flex flex-row text-sm gap-2 items-center justify-center">
                    <span>
                        <svg class="svg-inline--fa fa-eye text-gray-500 h-4" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="eye" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"></path></svg>
                    </span>
                    <span>{{ doctor.views }} visualizações</span>
                </div>
                <div>
                    <span >
                        <svg class="svg-inline--fa fa-heart text-gray-500 h-4" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="heart" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"></path></svg>
                    </span>
                </div>
            </div>
        </div>

        <div class="xl:max-w-[600px] xl:ml-12 px-10 mb-32">
            <div>
                <h3 class="mb-6 text-3xl font-bold">Descrição</h3>
                <p class="ml-4 min-h-[200px]">{{ doctor.description }}</p>
            </div>
            <div>
                <h3 class="mb-6 text-3xl font-bold">Informações Gerais</h3>
                <div class="mb-5">
                    <h4 class="mb-1 text-xl font-bold">Patologias</h4>
                    <p class="text-gray-500">
                        <p class="text-gray-500">{{ doctor.conditions }}</p>
                    </p>
                </div>
                <div class="mb-5">
                    <h4 class="mb-1 text-xl font-bold">Atendimento</h4>
                    <p class="text-gray-500">
                        <p class="text-gray-500">{{ doctor.patient_groups }}</p>
                    </p>
                </div>
                <div class="mb-5">
                    <h4 class="mb-1 text-xl font-bold">Aceita Convênio</h4>
                    <p class="text-gray-500">{{ doctor.insurance }}</p>
                </div>
                <div class="mb-5">
                    <h4 class="mb-1 text-xl font-bold">Retorno e Acompanhamento</h4>
                    <p class="text-gray-500">{{ doctor.follow_up }}</p>
                </div>
                <div class="mb-5">
                    <h4 class="mb-1 text-xl font-bold">Experiência com prescrição de produtos à base de cannabis</h4>
                    <p class="text-gray-500">{{ doctor.experience }}</p>
                </div>
            </div>
            <div>
                <h3 class="mb-6 text-3xl font-bold">Formação</h3>
                {% for education in doctor.education %}
                <div class="mb-5">
                    <h4 class="mb-1 text-xl font-bold">{{ education.instituicao }}</h4>
                    <p class="text-gray-500">{{ education.curso }}</p>
                </div>
                {% endfor %}
            </div>
            {% if doctor.video_url %}
                <div class="mt-14">
                    <iframe 
                        class="max-w-[560px] max-h-[315px] w-full" 
                        height="315" 
                        src="{{ doctor.video_url }}" 
                        title="YouTube video player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        referrerpolicy="strict-origin-when-cross-origin" 
                        allowfullscreen>
                    </iframe>
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}
